<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
  <head>     
	<META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
	<LINK href="resources/styles.css" type=text/css rel=stylesheet>
	<p class=Title> 
	<font face="Tahoma" size="3">
	    <center> 
	        <b>Programming EZ-USB&reg; FX3&trade; Processor Port as Asynchronous SRAM</b>
	    </center></p> 
	</font>
   </head>


 
  <body>
   <font face="Tahoma" size="2">      
      <p class=Title>Introduction</p>
      <p class=BodyText>
		One of the key features of EZ-USB&reg; FX3&trade; is the flexibility and programmability of the General Programmable Interface (GPIF&trade;II). GPIF&trade;II is a programmable state machine that enables a flexible interface to adapt to any processor interface required by the user. GPIF&trade;II state machine is defined by a set of programmable registers. These registers are to be configured by the firmware application running on FX3. The register configuration that programs GPIF&trade;II for a specific interface can be generated by the software tool GPIF&trade;II Designer. This document provides details on how to generate and use Asynchronous SRAM interface on GPIF&trade;II using the tool.
		</p>

<p class=Title>Asynchronous SRAM Interface</p>

<p class=BodyText>
    <p><b>Feature Highlights </b></p>
        <p class=BodyText>
          <ul>
		<li class=BodyText>Industry Standard Asynchronous SRAM Interface</li>
		<li class=BodyText>Direct access to both the configuration registers and buffers of EZ-USB&reg; FX3&trade;</li>		
	  </ul>
</p>

<p style="text-align: center; line-height: 1.15; margin: 0px 0px 13px 0px;">
	<img src="resources/async_sram_pin_diagram.jpg" width="500" height="231" 
	vspace="1" hspace="1" border="0" alt="">
</p>
<p style="text-align: center; line-height: 1.15; margin: 0px 0px 13px 0px;">
	<span style="font-family: 'Calibri'; 	font-weight: bold;">Figure 1. Asynchronous SRAM Interface Diagram</span>
</p>
<p class=BodyText>
	Configuring EZ-USB&reg; FX3&trade; processor port to Asynchronous SRAM provides easy access to the configuration registers and buffers from an external asynchronous SRAM controller.
</p>
<p class=Title>Programming GPIF&trade;II as Asynchronous SRAM
</p>

<p class=BodyText>
	The set of register values that programs the GPIF&trade;II interface as an Asynchronous SRAM can be generated using GPIF&trade;II Designer. GPIF&trade;II Designer generates a "C" header file containing data structures supported the FX3 firmware framework API. The software tool GPIF&trade;II Designer and the firmware framework library are part of the EZ-USB&reg; FX3&trade; Software Development Kit. A step by step procedure to use GPIF&trade;II Designer to configure FX3 as Asynchronous SRAM is as follows
</p>
<p class=BodyText>
      <ol>
        <li class=BodyText>
		Open the async_sram using GPIF&trade;II Designer. The project can be opened from the "Cypress Supplied Interface" menu on the start page.
	    </li>
        <li class=BodyText>
		The project details are presented in three tabs - Interface Customization, State Machine and Datasheet. Traverse to Interface Customization tab to make necessary customizations. Customizable parameters are shown on the left pane.
	    </li>            
	    <li class=BodyText>
		Build the project to generate GPIF&trade;II configuration header file using the "Build Project" command available under the Build menu. 
		The header file will be generated under the project folder. 
	    </li>
        <li class=BodyText>
		In the firmware application load the GPIF&trade;II configuration and start the state machine using the GPIF&trade;II configuration API <Link TBD> 
	    </li>
      </ol>
</p>
<p class=Title>Configurable Parameters</p>
<p class=BodyText>
        Following parameters of the interface can be modified to suite the target environment. 
        To make changes, open the async_sram using GPIF&trade;II Designer as mentioned in step 1. 
        The configurable parameters and available options are provided on the left side of the Customization Tab.
        <br/>
		<br/>	
		<b>FX3 peripherals used:</b> SPI, UART,I2C,I2S can be selected.
		<br/>
		<br/>
		<b>Data bus width:</b> Data bus width of GPIF II can be 16 bit or 32 bit. 32 Bit data bus width is not supported if SPI is selected.
		<br/>
		<br/>
		<b>Pin mapping:</b> Mapping of the interface signal CE# to the FX3 pin connection can be modified. 
		<br/>
        <i> Note: To swap pins currently allocated pin must be freed. A pin can be freed by allocating 
        to any other available pin temporarily.</i>
</p>

<p class=Title>Interface Description & Timing</p>

<p class=BodyText>
 The Read and Write accesses can be single cycle access or burst access. Figure 2 shows the timing and sequence for Asynchronous SRAM read accesses. Figure 3 shows the timing and sequence for Asynchronous SRAM write accesses.  
</p>
<p class=BodyText>
<b>Read</b>
<br/>
Read operations is initiated by bringing CE# and OE# LOW while keeping WE# HIGH. Valid data will be driven out of the Data bus after the specified access time has elapsed. Data can be read by toggling the least significant bit, A[0] or toggling of OE#. 
<p style="text-align: center; line-height: 1.15; margin: 0px 0px 13px 0px;"><img src="resources/async_sram_read_timing.jpg" width="650" vspace="1" hspace="1" border="0" alt=""></p>
<p style="text-align: center; line-height: 1.15; margin: 0px 0px 13px 0px;"><span style="font-family: 'Calibri'; font-weight: bold;">Figure 2 Timing Diagram - Asynchronous SRAM READ </span></p>

<p class=BodyText>
<b>Write</b>
<br/>
For Write operations, both CE# and WE# are asserted. OE# is "Don't Care" during a Write operation  Input Data is latched on the rising edge of WE# or CE#, whichever occurs first. 
</p>

<p style="text-align: center; line-height: 1.15; margin: 0px 0px 13px 0px;"><img 	src="resources/async_sram_write_timing.jpg" width="650" vspace="1" hspace="1" border="0" alt="">
</p>
<p style="text-align: center; line-height: 1.15; margin: 0px 0px 13px 0px;"><img 		src="resources/async_sram_write_timing_we_cntrl.vsd.jpg" width="650" vspace="1" hspace="1" border="0" alt="">
</p>
<p style="text-align: center; line-height: 1.15; margin: 0px 0px 13px 0px;"><span style="font-family: 'Calibri'; 		font-weight: bold;">Figure 3 Timing Diagram - Asynchronous SRAM Write</span>
</p>

<p class=Title>Summary</p>
<p class=BodyText>
	The data presented here is indicative only and must not be seen as a substitute for the full specification from which it is drawn. Please visit 
	<a href="http://www.cypress.com/?id=3526">Cypress EZ-USB&reg; FX3&trade;</a> website for detailed and latest Datasheet.

</p>

<p class=Title>Notice of Disclaimer
</p>
<p class=BodyText>
	© Cypress Semiconductor Corporation, 2012. The information contained herein is subject to change without notice. Cypress Semiconductor Corporation assumes no responsibility for the use of any circuitry other than circuitry embodied in a Cypress Semiconductor product. Nor does it convey or imply any license under patent or other rights. Cypress Semiconductor does not authorize its products for use as critical components in life-support systems where a malfunction or failure may reasonably be expected to result in significant injury to the user. The inclusion of Cypress Semiconductor products in life-support systems application implies that the manufacturer assumes all risk of such 
	use and in doing so indemnifies Cypress Semiconductor against all charges.
</p>
    </font>
  </body>
</html>
